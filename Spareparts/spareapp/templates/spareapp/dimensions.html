{% extends "spareapp/base.html" %}

{% block title %} Kmotorshop.com{% endblock %}

{% block content %}

<div class="resultadoBusqueda">
<div class="migajas color-soft color-hard p-2">Search by dimensions</div>
<form class="mt-2" action="">
    <div class="row">
        <div class="col-3">
            <select class="form-control" name="spare_name" id="spare_name" required>
                <option class="" value="">1. Choose name...</option>
                {% for sp in spare %}
                <option class="" value="{{sp.spare_name}}">{{sp.spare_name}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-3">
            <select class="form-control" name="spare_shape" id="spare_shape" disabled required>
                <option class="" value="">2. Choose shape...</option>
                {% for sh in allShapes %}
                    {% if sh.shape %}
                    <option data-carro="{{sh.spare_name}}" class="" value="{{sh.shape}}">{{sh.shape}}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        <div class="col-3">
            <div class="row" id="dimensions-content" style="display: none;">
                <div class="col-4">
                    <label id="" for="long">Long</label>
                    <label id="" for="wide">Wide</label>
                    <label id="" for="high">High</label>
                    <label id="" for="diameter">Diameter</label>
                    <label id="" for="radio">Radio</label>
                </div>
                <div class="col-8">
                    <input id="long" type="number" required>
                    <input id="wide" type="number" required>
                    <input id="high" type="number" required>
                    <input id="diameter" type="number" required>
                    <input id="radio" type="number" required>
                </div>
            </div>
            
        </div>
        
    </div>
</form>
</div>

<script>
// Para filtrar por dimensiones
const $spname = $("#spare_name");
const $spshape = $("#spare_shape");
const $content = $("#dimensions-content");
const $long = $("#long");

$spname.change(function(){
    $spshape.val('');
    
    $spshape.prop('disabled', !Boolean($spname.val()));
    $motor.prop('disabled', !Boolean($spshape.val()));
    $spshape.find('option[data-carro]').hide();
    $spshape.find('option[data-carro="' + $spname.val() + '"]').show();
    
});
$spshape.change(function(){
    $content.hide();
    if($spshape.val()){
        $content.show();
    }
});

</script>
{% endblock %}


